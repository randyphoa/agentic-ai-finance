"use strict";(()=>{var m=null,a=[];function h(s){let n=document.querySelector(".tiptap.ProseMirror");if(n){let t=n.querySelector("p");if(t){t.textContent=s,t.classList.remove("is-empty","is-editor-empty");let e=document.createRange(),o=window.getSelection();e.selectNodeContents(t),e.collapse(!1),o?.removeAllRanges(),o?.addRange(e)}n.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}function p(s){return function(t){m=t,t.on("send",e=>{let o=e?.message?.message?.content;o&&a.push({role:"user",content:o})}),t.on("receive",async e=>{let o=e?.message?.content?.[0]?.text;if(o){a.push({role:"assistant",content:o});let i=`${window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8787":"https://llm.randyphoa.com"}/finance-cfo/suggestion?scenario=${s}`;try{let c=(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).body?.getReader();if(!c)return;let d=new TextDecoder,r="";for(;;){let{done:l,value:u}=await c.read();if(l)break;r+=d.decode(u,{stream:!0}),h(r)}}catch{}}}),t.on("restartConversation",()=>{a.length=0}),t.on("chat:ready",()=>{setTimeout(()=>{let e=document.getElementById("root");document.activeElement&&e?.contains(document.activeElement)&&document.activeElement.blur()},100)})}}var w={orchestrationID:"5c7165eca27b4d538ce71dda3e3c6799_96d8eaa2-8b96-4750-a128-d3b7944e75e7",hostURL:"https://us-south.watson-orchestrate.cloud.ibm.com",rootElementID:"root",showLauncher:!1,crn:"crn:v1:bluemix:public:watsonx-orchestrate:us-south:a/5c7165eca27b4d538ce71dda3e3c6799:96d8eaa2-8b96-4750-a128-d3b7944e75e7::",deploymentPlatform:"ibmcloud",header:{showAiDisclaimer:!1},layout:{form:"custom",showOrchestrateHeader:!1,customElement:document.getElementById("root")},style:{showBackgroundGradient:!1}};function b(s,n,t){window.wxOConfiguration={...w,chatOptions:{agentId:s,agentEnvironmentId:n,onLoad:p(t)}},setTimeout(function(){let e=document.createElement("script");e.src=`${window.wxOConfiguration.hostURL}/wxochat/wxoLoader.js?embed=true`,e.addEventListener("load",function(){window.wxoLoader.init()}),document.head.appendChild(e)},0)}})();
