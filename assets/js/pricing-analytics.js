"use strict";(()=>{var h=null,s=[];function p(a){let n=document.querySelector(".tiptap.ProseMirror");if(n){let t=n.querySelector("p");if(t){t.textContent=a,t.classList.remove("is-empty","is-editor-empty");let e=document.createRange(),o=window.getSelection();e.selectNodeContents(t),e.collapse(!1),o?.removeAllRanges(),o?.addRange(e)}n.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}function f(a){return function(t){h=t,t.on("send",e=>{let o=e?.message?.message?.content;o&&s.push({role:"user",content:o})}),t.on("receive",async e=>{let o=e?.message?.content?.[0]?.text;if(o){s.push({role:"assistant",content:o});let d=`${window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8787":"https://llm.randyphoa.com"}/finance-cfo/suggestion?scenario=${a}`;try{let c=(await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).body?.getReader();if(!c)return;let l=new TextDecoder,r="";for(;;){let{done:u,value:m}=await c.read();if(u)break;r+=l.decode(m,{stream:!0}),p(r)}}catch{}}}),t.on("restartConversation",()=>{s.length=0}),t.on("chat:ready",()=>{setTimeout(()=>{let e=document.getElementById("root");document.activeElement&&e?.contains(document.activeElement)&&document.activeElement.blur()},100)})}}var g={orchestrationID:"5c7165eca27b4d538ce71dda3e3c6799_96d8eaa2-8b96-4750-a128-d3b7944e75e7",hostURL:"https://us-south.watson-orchestrate.cloud.ibm.com",rootElementID:"root",showLauncher:!1,crn:"crn:v1:bluemix:public:watsonx-orchestrate:us-south:a/5c7165eca27b4d538ce71dda3e3c6799:96d8eaa2-8b96-4750-a128-d3b7944e75e7::",deploymentPlatform:"ibmcloud",header:{showAiDisclaimer:!1},layout:{form:"custom",showOrchestrateHeader:!1,customElement:document.getElementById("root")},style:{showBackgroundGradient:!1}};function i(a,n,t){window.wxOConfiguration={...g,chatOptions:{agentId:a,agentEnvironmentId:n,onLoad:f(t)}},setTimeout(function(){let e=document.createElement("script");e.src=`${window.wxOConfiguration.hostURL}/wxochat/wxoLoader.js?embed=true`,e.addEventListener("load",function(){window.wxoLoader.init()}),document.head.appendChild(e)},0)}i("07c8bd45-23f2-41ac-9905-67b9a08c25e3","2399faee-cb5f-43eb-ba39-3f4916362ddd","pricing-analytics");})();
